(window.webpackJsonp=window.webpackJsonp||[]).push([["pl-modal-viewer"],{131:function(e,t,n){"use strict";n.r(t);var a=n(64),i=n(6),o=n(200),r=n.n(o),l=n(203),s=n.n(l),c=n(204),p=n.n(c),d={languages:[],get:function(e){for(var t,n=0;n<this.languages.length;++n)if(void 0!==(t=this.languages[n])[e])return t[e];return"markup"},add:function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=0;n<this.languages.length;++n)if(void 0!==this.languages[n][t])return void(this.languages[n][t]=e[t]);this.languages.push(e)}};d.add({twig:"markup"}),d.add({mustache:"markup"});var u={panels:[],count:function(){return this.panels.length},get:function(){return JSON.parse(JSON.stringify(u.panels))},add:function(e){for(var t=0;t<this.panels.length;++t)if(e.id===this.panels[t].id)return;this.panels.push(e)},remove:function(e){for(var t=this.panels,n=t.length-1;n>=0;n--)if(t[n].id===e){var a=t[n];return t.splice(n,1),void(a.default&&t.length&&(t[0].default=!0))}}};i.a.trigger("setupPanels"),window.addEventListener("message",function(e){if(("file:"===window.location.protocol||e.origin===window.location.protocol+"//"+window.location.host)&&""!==e.data){var t={};try{t="string"!=typeof e.data?e.data:JSON.parse(e.data)}catch(e){}if(void 0!==t.event&&"patternLab.pageLoad"===t.event){var n=void 0!==window.config.outputFileSuffixes&&void 0!==window.config.outputFileSuffixes.rawTemplate?window.config.outputFileSuffixes.rawTemplate:"",a=void 0!==window.config.outputFileSuffixes&&void 0!==window.config.outputFileSuffixes.markupOnly?window.config.outputFileSuffixes.markupOnly:".markup-only";u.add({id:"pl-panel-pattern",name:window.config.patternExtension.toUpperCase(),default:!0,templateID:"pl-panel-template-code",httpRequest:!0,httpRequestReplace:n,httpRequestCompleted:!1,prismHighlight:!0,language:d.get(window.config.patternExtension),keyCombo:"ctrl+shift+u"}),u.add({id:"pl-panel-html",name:"HTML",default:!1,templateID:"pl-panel-template-code",httpRequest:!0,httpRequestReplace:a+".html",httpRequestCompleted:!1,prismHighlight:!0,language:"markup",keyCombo:"ctrl+shift+y"})}}},!1);var g=n(36),m=(n(63),new p.a({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0,"break-lines":80,"tabs-to-spaces":2})),f={targetOrigin:"file:"===window.location.protocol?"*":window.location.protocol+"//"+window.location.host,initCopy:!1,initMoveTo:0,checkPanels:function(e,t,n,a){for(var i=0,o=0;o<e.length;++o)void 0!==e[o].content&&i++;i===u.count()&&f.renderPanels(e,t,n,a)},gatherPanels:function(e,t,n){var a,o,l;i.a.addListener("checkPanels",f.checkPanels);for(var c=u.get(),p=0;p<c.length;++p){var d=c[p];if(void 0===d.name&&(d.name=e.patternEngineName||e.patternExtension,d.language=e.patternExtension),""===d.httpRequestReplace&&(d.httpRequestReplace=d.httpRequestReplace+"."+e.patternExtension),void 0!==d.templateID&&d.templateID)if(void 0!==d.httpRequest&&d.httpRequest){var g=i.h.getFileName(e.patternPartial,!1),h=new XMLHttpRequest;h.onload=function(e,c,p,d){return function(){var d=m.normalize(this.responseText),u=s.a.highlight(d,s.a.languages.html);a=document.getElementById(c[e].templateID),o=r.a.compile(a.innerHTML),l=o.render({language:"html",code:u}),l=m.normalize(l),c[e].content=l,i.a.trigger("checkPanels",[c,p,t,n])}}(p,c,e),h.open("GET",g+d.httpRequestReplace+"?"+(new Date).getTime(),!0),h.send()}else{a=document.getElementById(d.templateID),o=r.a.compile(a.innerHTML),l=o.render(e);var v=m.normalize(l);v.replace(/[\r\n]+/g,"\n\n");var w=s.a.highlight(v,s.a.languages.html);c[p].content=w,i.a.trigger("checkPanels",[c,e,t,n])}}},renderPanels:function(e,t,n,a){var o,l,s,c,p=t,d=p.patternPartial;p.panels=e,n||0!==p.patternDesc.length||(p.patternDesc=""),p.patternNameCaps=p.patternName.toUpperCase();var u=document.createElement("div");u.innerHTML=p.patternMarkup,s=1,p.annotations=[],delete p.patternMarkup;for(var m=0;m<window.comments.comments.length;++m)c=window.comments.comments[m],u.querySelectorAll(c.el).length>0&&(l={displayNumber:s,el:c.el,title:c.title,comment:c.comment},p.annotations.push(l),s++);if(p.annotations.length>0){var h=JSON.stringify({event:"patternLab.annotationsHighlightShow",annotations:p.annotations});document.querySelector(".pl-js-iframe").contentWindow.postMessage(h,f.targetOrigin)}if(p.lineage.length>0)for(var v=0;v<p.lineage.length;++v)v<p.lineage.length-1&&(p.lineage[v].hasComma=!0);if(p.lineageR.length>0)for(var w=0;w<p.lineageR.length;++w)w<p.lineageR.length-1&&(p.lineageR[w].hasComma=!0);p.patternDescExists=p.patternDesc.length>0||void 0!==p.patternDescAdditions&&p.patternDescAdditions.length>0,p.lineageExists=0!==p.lineage.length,p.lineageRExists=0!==p.lineageR.length,p.patternStateExists=p.patternState.length>0,p.annotationExists=p.annotations.length>0,p.descBlockExists=p.patternDescExists||p.lineageExists||p.lineageRExists||p.patternStateExists||p.annotationExists,p.isPatternView=!1===n;var y=document.querySelector(".pl-js-panel-template-base");o=r.a.compile(y.innerHTML).render(p);var E=document.createElement("div");E.className="pl-c-pattern-info",E.innerHTML=o,o=E,o=g.a.addClickEvents(o,d);for(var S=0;S<e.length;++S){var b=e[S],q="#pl-"+d+"-"+b.id+"-tab",k="#pl-"+d+"-"+b.id+"-panel";null!==o.querySelector(q)&&b.default&&(o.querySelector(q).classList.add("pl-is-active-tab"),o.querySelector(k).classList.add("pl-is-active-tab"))}i.a.trigger("insertPanels",[o,d,n,a])}},h=n(2),v=n(7);n.d(t,"modalViewer",function(){return w});var w={delayCheckingModalViewer:!1,iframeElement:document.querySelector(".pl-js-iframe"),active:!1,switchText:!0,template:"info",patternData:{},targetOrigin:"file:"===window.location.protocol?"*":window.location.protocol+"//"+window.location.host,onReady:function(){window.addEventListener("message",w.receiveIframeMessage,!1),i.a.addListener("insertPanels",w.insert),w.__storeUnsubscribe=h.a.subscribe(function(){return w._stateChanged(h.a.getState())}),w._stateChanged(h.a.getState());var e=i.h.getRequestVars();void 0===e.view||"code"!==e.view&&"c"!==e.view&&"annotations"!==e.view&&"a"!==e.view||h.a.dispatch(Object(v.p)(!0))},toggle:function(){w.active?h.a.dispatch(Object(v.p)(!1)):h.a.dispatch(Object(v.p)(!0))},open:function(){if(w.queryPattern(),w.patternData&&w.patternData.annotations&&w.patternData.annotations.length>0){var e=JSON.stringify({event:"patternLab.annotationsHighlightShow",annotations:w.patternData.annotations});w.iframeElement.contentWindow?w.iframeElement.contentWindow.postMessage(e,w.targetOrigin):(w.iframeElement=document.querySelector(".pl-js-iframe"),w.iframeElement.contentWindow?w.open():console.log("modelViewer open cannot find the iframeElement..."))}},close:function(){var e=JSON.stringify({event:"patternLab.patternModalClose"});if(w.iframeElement)if(w.iframeElement.contentWindow){w.iframeElement.contentWindow.postMessage(e,w.targetOrigin);var t=JSON.stringify({event:"patternLab.annotationsHighlightHide"});w.iframeElement.contentWindow.postMessage(t,w.targetOrigin)}else w.iframeElement=document.querySelector(".pl-js-iframe"),w.iframeElement.contentWindow?w.close():console.log("modelViewer close cannot find the iframeElement...")},insert:function(e,t,n,a){if(n){var i=JSON.stringify({event:"patternLab.patternModalInsert",patternPartial:t,modalContent:e.outerHTML});w.iframeElement.contentWindow?w.iframeElement.contentWindow.postMessage(i,w.targetOrigin):(w.iframeElement=document.querySelector(".pl-js-iframe"),w.iframeElement.contentWindow?w.insert(e,t,n):console.log("modelViewer insert cannot find the iframeElement..."))}else{var o=document.querySelector(".pl-js-drawer-content");null!==o.firstChild&&o.removeChild(o.firstChild),o.appendChild(e)}},refresh:function(e,t,n){t&&w.close(),w.patternData=e,f.gatherPanels(e,t,n)},slide:function(e){w.toggle()},slideToAnnotation:function(e){for(var t=document.querySelectorAll(".pl-js-annotations li"),n=0;n<t.length;++n)t[n].classList.remove("pl-is-active");for(var i=document.querySelector(".pl-js-pattern-info"),o=0;o<t.length;++o)o+1===e&&(t[o].classList.add("pl-is-active"),Object(a.a)(i,document.body,{top:t[o].offsetTop-14,behavior:"smooth"}).then(function(){}))},queryPattern:function(e){var t=JSON.stringify({event:"patternLab.patternQuery",switchText:e});w.iframeElement?w.iframeElement.contentWindow?w.iframeElement.contentWindow.postMessage(t,w.targetOrigin):(w.iframeElement=document.querySelector(".pl-js-iframe"),w.iframeElement.contentWindow?w.queryPattern(e):console.log("queryPattern cannot find the iframeElement...")):(w.iframeElement=document.querySelector(".pl-js-iframe"),w.iframeElement.contentWindow&&w.iframeElement.contentWindow.postMessage(t,w.targetOrigin))},receiveIframeMessage:function(e){if("file:"===window.location.protocol||e.origin===window.location.protocol+"//"+window.location.host){var t={};try{t="string"!=typeof e.data?e.data:JSON.parse(e.data)}catch(e){}void 0!==t.event&&"patternLab.pageLoad"===t.event?(w.delayCheckingModalViewer&&w._handleInitialModalViewerState(),0===t.patternpartial.indexOf("viewall-")||0===t.patternpartial.indexOf("all")?h.a.dispatch(Object(v.k)(!0)):h.a.dispatch(Object(v.k)(!1)),!1===w.active&&void 0!==t.patternpartial&&0===t.patternpartial.indexOf("viewall-")&&void 0!==window.config.defaultShowPatternInfo&&window.config.defaultShowPatternInfo?w.queryPattern(!1):!0===w.active&&w.queryPattern()):void 0!==t.event&&"patternLab.patternQueryInfo"===t.event?w.panelRendered&&w.previouslyRenderedPattern===t.patternData.patternPartial||(w.refresh(t.patternData,t.iframePassback,t.switchText),w.panelRendered=!0,w.previouslyRenderedPattern=t.patternData.patternPartial):void 0!==t.event&&"patternLab.annotationNumberClicked"===t.event&&w.slideToAnnotation(t.displayNumber)}},_handleInitialModalViewerState:function(){w.iframeElement||(w.iframeElement=document.querySelector(".pl-js-iframe")),w.iframeElement?(w.delayCheckingModalViewer=!1,w.active?w.open():w.close()):w.delayCheckingModalViewer=!0},_stateChanged:function(e){w.active=e.app.drawerOpened,w.iframeElement&&w._handleInitialModalViewerState()}};w.onReady()},36:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a={addClickEvents:function(e,t){for(var n=e.querySelectorAll(".pl-js-tab-link"),i=0;i<n.length;++i)n[i].onclick=function(e){e.preventDefault();var t=this.getAttribute("data-patternpartial"),n=this.getAttribute("data-panelid");a.show(t,n)};return e},show:function(e,t){for(var n=document.querySelectorAll(".pl-js-tab-link"),a=document.querySelectorAll(".pl-js-tab-panel"),i=document.querySelector("#pl-".concat(e,"-").concat(t,"-tab")),o=document.querySelector("#pl-".concat(e,"-").concat(t,"-panel")),r=0;r<n.length;++r)n[r].classList.remove("pl-is-active-tab");for(var l=0;l<a.length;++l)a[l].classList.remove("pl-is-active-tab");i.classList.add("pl-is-active-tab"),o.classList.add("pl-is-active-tab")}}},63:function(e,t,n){"use strict";var a=n(37);new(n.n(a).a)(".pl-js-code-copy-btn").on("success",function(e){for(var t=document.querySelectorAll(".pl-js-code-copy-btn"),n=0;n<t.length;n++)t[n].innerText="Copy";e.trigger.textContent="Copied"})}}]);