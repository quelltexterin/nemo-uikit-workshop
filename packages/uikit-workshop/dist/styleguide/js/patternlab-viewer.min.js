!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}}(function(){return function o(r,l,s){function c(t,e){if(!l[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(p)return p(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var a=l[t]={exports:{}};r[t][0].call(a.exports,function(e){return c(r[t][1][e]||e)},a,a.exports,o,r,l,s)}return l[t].exports}for(var p="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,n){var r=e("./closest");t.exports=function(e,t,n,i,a){var o=function(t,n,e,i){return function(e){e.delegateTarget=r(e.target,n),e.delegateTarget&&i.call(t,e)}}.apply(this,arguments);return e.addEventListener(n,o,a),{destroy:function(){e.removeEventListener(n,o,a)}}}},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){var u=e("./is"),f=e("delegate");t.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!u.string(t))throw new TypeError("Second argument must be a String");if(!u.fn(n))throw new TypeError("Third argument must be a Function");if(u.node(e))return a=t,o=n,(i=e).addEventListener(a,o),{destroy:function(){i.removeEventListener(a,o)}};var i,a,o,r,l,s,c,p,d;if(u.nodeList(e))return r=e,l=t,s=n,Array.prototype.forEach.call(r,function(e){e.addEventListener(l,s)}),{destroy:function(){Array.prototype.forEach.call(r,function(e){e.removeEventListener(l,s)})}};if(u.string(e))return c=e,p=t,d=n,f(document.body,c,p,d);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(e,t,n){t.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),a=document.createRange();a.selectNodeContents(e),i.removeAllRanges(),i.addRange(a),t=i.toString()}return t}},{}],6:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){a.off(e,i),t.apply(n,arguments)}var a=this;return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,a=n.length;i<a;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],a=[];if(i&&t)for(var o=0,r=i.length;o<r;o++)i[o].fn!==t&&i[o].fn._!==t&&a.push(i[o]);return a.length?n[e]=a:delete n[e],this}},t.exports=i},{}],7:[function(i,a,o){!function(e,t){if(void 0!==o)t(a,i("select"));else{var n={exports:{}};t(n,e.select),e.clipboardAction=n.exports}}(this,function(e,t){"use strict";var n,i=(n=t)&&n.__esModule?n:{default:n},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=function(){function t(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":a(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),t}();e.exports=r})},{select:5}],8:[function(i,a,o){!function(e,t){if(void 0!==o)t(a,i("./clipboard-action"),i("tiny-emitter"),i("good-listener"));else{var n={exports:{}};t(n,e.clipboardAction,e.tinyEmitter,e.goodListener),e.clipboard=n.exports}}(this,function(e,t,n,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var r=a(t),l=a(n),s=a(i),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),d=function(e){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.resolveOptions(t),n.listenClick(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,l.default),p(i,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===c(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new r.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return o("action",e)}},{key:"defaultTarget",value:function(e){var t=o("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return o("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),i}();e.exports=d})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(d,u,e){var t=/\+/g;function f(e){return e}function h(e){return decodeURIComponent(e.replace(t," "))}var m=d.cookie=function(e,t,n){if(void 0!==t){if(n=d.extend({},m.defaults,n),null===t&&(n.expires=-1),"number"==typeof n.expires){var i=n.expires,a=n.expires=new Date;a.setDate(a.getDate()+i)}return t=m.json?JSON.stringify(t):String(t),u.cookie=[encodeURIComponent(e),"=",m.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}for(var o=m.raw?f:h,r=u.cookie.split("; "),l=0,s=r.length;l<s;l++){var c=r[l].split("=");if(o(c.shift())===e){var p=o(c.join("="));return m.json?JSON.parse(p):p}}return null};m.defaults={},d.removeCookie=function(e,t){return null!==d.cookie(e)&&(d.cookie(e,null,t),!0)}}(jQuery,document);var DataSaver={cookieName:"patternlab",addValue:function(e,t){var n=$.cookie(this.cookieName);n=null===n||""===n?e+"~"+t:n+"|"+e+"~"+t,$.cookie(this.cookieName,n)},updateValue:function(e,t){if(this.findValue(e)){for(var n="",i=$.cookie(this.cookieName).split("|"),a=0;a<i.length;a++){var o=i[a].split("~");o[0]==e&&(o[1]=t),n+=0<a?"|"+o[0]+"~"+o[1]:o[0]+"~"+o[1]}$.cookie(this.cookieName,n)}else this.addValue(e,t)},removeValue:function(e){for(var t="",n=$.cookie(this.cookieName).split("|"),i=0,a=0;a<n.length;a++){var o=n[a].split("~");o[0]!=e&&(t+=0===i?o[0]+"~"+o[1]:"|"+o[0]+"~"+o[1],i++)}$.cookie(this.cookieName,t)},findValue:function(e){if($.cookie(this.cookieName))for(var t=$.cookie(this.cookieName).split("|"),n=0;n<t.length;n++){var i=t[n].split("~");if(i[0]==e)return i[1]}return!1}};try{var template=document.querySelector(".pl-js-pattern-nav-template"),templateCompiled=Hogan.compile(template.innerHTML),templateRendered=templateCompiled.render(navItems);document.querySelector(".pl-js-pattern-nav-target").innerHTML=templateRendered;var template=document.querySelector(".pl-js-ish-controls-template"),templateCompiled=Hogan.compile(template.innerHTML),templateRendered=templateCompiled.render(ishControls);document.querySelector(".pl-js-controls").innerHTML=templateRendered}catch(e){var message="<p>Please generate your site before trying to view it.</p>";document.querySelector(".pl-js-pattern-nav-target").innerHTML=message}var urlHandler={skipBack:!1,targetOrigin:"file:"==window.location.protocol?"*":window.location.protocol+"//"+window.location.host,getFileName:function(e,t){var n="patterns",i="";if(void 0===e)return i;if(void 0===t&&(t=!0),"all"==e)return"styleguide/html/styleguide.html";if("snapshots"==e)return"snapshots/index.html";var a=-1!=e.indexOf("viewall-")?viewAllPaths:patternPaths,o=e.replace("viewall-",""),r=this.getPatternInfo(o,a),l=r[0],s=r[1];if(void 0!==a[l]&&void 0!==a[l][s])i=a[l][s];else if(void 0!==a[l])for(var c in a[l])if(-1!=c.indexOf(s)){i=a[l][c];break}if(""===i)return i;var p=/\//g;if(-1!==e.indexOf("viewall-")&&0===e.indexOf("viewall-")&&""!==i)i=n+"/"+i.replace(p,"-")+"/index.html";else if(""!==i){if(i=n+"/"+i.replace(p,"-")+"/"+i.replace(p,"-"),t)i=i+(void 0!==config.outputFileSuffixes&&void 0!==config.outputFileSuffixes.rendered?config.outputFileSuffixes.rendered:"")+".html"}return i},getPatternInfo:function(e,t){for(var n=e.split("-"),i=1,a=n.length,o=n[0];void 0===t[o]&&i<a;)o+="-"+n[i],i++;return[o,e.slice(o.length+1,e.length)]},getRequestVars:function(){return new function(e){if(1<e.length)for(var t,n=0,i=e.substr(1).split("&");n<i.length;n++)t=i[n].split("="),this[unescape(t[0])]=1<t.length?unescape(t[1]):""}(window.location.search)},pushPattern:function(e,t){var n={pattern:e},i=urlHandler.getFileName(e),a=window.location.pathname;if(a="file"===window.location.protocol?a.replace("/public/index.html","public/"):a.replace(/\/index\.html/,"/"),t!=window.location.protocol+"//"+window.location.host+a+i){var o=JSON.stringify({event:"patternLab.updatePath",path:i});document.querySelector(".pl-js-iframe").contentWindow.postMessage(o,urlHandler.targetOrigin)}else{var r="file:"==window.location.protocol?null:window.location.protocol+"//"+window.location.host+window.location.pathname.replace("index.html","")+"?p="+e;void 0!==history.pushState&&history.pushState(n,null,r),document.getElementById("title").innerHTML="Pattern Lab - "+e,void 0!==document.querySelector(".pl-js-open-new-window")&&document.querySelector(".pl-js-open-new-window").setAttribute("href",urlHandler.getFileName(e))}},popPattern:function(e){var t,n=e.state;if(null!==n){null!==n&&(t=n.pattern);var i="";""===(i=this.getFileName(t))&&(i="styleguide/html/styleguide.html");var a=JSON.stringify({event:"patternLab.updatePath",path:i});document.querySelector(".pl-js-iframe").contentWindow.postMessage(a,urlHandler.targetOrigin),document.getElementById("title").innerHTML="Pattern Lab - "+t,document.querySelector(".pl-js-open-new-window").setAttribute("href",urlHandler.getFileName(t))}else this.skipBack=!1}};window.onpopstate=function(e){urlHandler.skipBack=!0,urlHandler.popPattern(e)};var modalViewer={active:!1,switchText:!0,template:"info",patternData:{},targetOrigin:"file:"===window.location.protocol?"*":window.location.protocol+"//"+window.location.host,onReady:function(){Dispatcher.addListener("insertPanels",modalViewer.insert),$(".pl-js-pattern-info-toggle").click(function(e){modalViewer.toggle()}),$(".pl-js-modal-close-btn").on("click",function(e){obj=JSON.stringify({event:"patternLab.annotationsHighlightHide"}),document.querySelector(".pl-js-iframe").contentWindow.postMessage(obj,modalViewer.targetOrigin),modalViewer.close()}),"true"===DataSaver.findValue("modalActive")&&(modalViewer.active=!0,$(".pl-js-pattern-info-toggle").html("Hide Pattern Info")),modalViewer.hide();var e=urlHandler.getRequestVars();void 0===e.view||"code"!==e.view&&"c"!==e.view||modalViewer.queryPattern(),void 0===e.view||"annotations"!==e.view&&"a"!==e.view||modalViewer.queryPattern()},toggle:function(){!1===modalViewer.active?modalViewer.queryPattern():(obj=JSON.stringify({event:"patternLab.annotationsHighlightHide"}),document.querySelector(".pl-js-iframe").contentWindow.postMessage(obj,modalViewer.targetOrigin),modalViewer.close())},open:function(){modalViewer.close(),DataSaver.updateValue("modalActive","true"),modalViewer.active=!0,modalViewer.show()},close:function(){var e;DataSaver.updateValue("modalActive","false"),modalViewer.active=!1,$(".pl-js-modal").removeClass("pl-is-active"),$(".pl-js-pattern-info-toggle").html("Show Pattern Info"),e=JSON.stringify({event:"patternLab.patternModalClose"}),document.querySelector(".pl-js-iframe").contentWindow.postMessage(e,modalViewer.targetOrigin)},hide:function(){$(".pl-js-modal").removeClass("pl-is-active")},insert:function(e,t,n,i){if(n){var a=JSON.stringify({event:"patternLab.patternModalInsert",patternPartial:t,modalContent:e.outerHTML});document.querySelector(".pl-js-iframe").contentWindow.postMessage(a,modalViewer.targetOrigin)}else $(".pl-js-modal-content").html(e),modalViewer.open();!0===i&&$(".pl-js-pattern-info-toggle").html("Hide Pattern Info")},refresh:function(e,t,n){t&&modalViewer.hide(),panelsViewer.gatherPanels(e,t,n)},slide:function(e){$(".pl-js-modal").toggleClass("pl-is-active")},slideToAnnotation:function(e){for(els=document.querySelectorAll(".pl-js-annotations li"),i=0;i<els.length;++i)els[i].classList.remove("pl-is-active");for(i=0;i<els.length;++i)i+1==e&&(els[i].classList.add("pl-is-active"),$(".pl-js-pattern-info").animate({scrollTop:els[i].offsetTop-10},600))},show:function(){$(".pl-js-modal").addClass("pl-is-active")},queryPattern:function(e){(void 0===e||e)&&(e=!0,DataSaver.updateValue("modalActive","true"),modalViewer.active=!0);var t=JSON.stringify({event:"patternLab.patternQuery",switchText:e});document.querySelector(".pl-js-iframe").contentWindow.postMessage(t,modalViewer.targetOrigin)},receiveIframeMessage:function(e){if("file:"===window.location.protocol||e.origin===window.location.protocol+"//"+window.location.host){var t={};try{t="string"!=typeof e.data?e.data:JSON.parse(e.data)}catch(e){}void 0!==t.event&&"patternLab.pageLoad"==t.event?!1===modalViewer.active&&void 0!==t.patternpartial&&0===t.patternpartial.indexOf("viewall-")&&void 0!==config.defaultShowPatternInfo&&config.defaultShowPatternInfo?modalViewer.queryPattern(!1):!0===modalViewer.active&&modalViewer.queryPattern():void 0!==t.event&&"patternLab.patternQueryInfo"==t.event?modalViewer.refresh(t.patternData,t.iframePassback,t.switchText):void 0!==t.event&&"patternLab.annotationNumberClicked"==t.event&&modalViewer.slideToAnnotation(t.displayNumber)}}};$(document).ready(function(){modalViewer.onReady()}),window.addEventListener("message",modalViewer.receiveIframeMessage,!1);var panelsUtil={addClickEvents:function(e,t){for(var n=e.querySelectorAll(".pl-js-tab-link"),i=0;i<n.length;++i)n[i].onclick=function(e){e.preventDefault();var t=this.getAttribute("data-patternpartial"),n=this.getAttribute("data-panelid");panelsUtil.show(t,n)};return e},show:function(e,t){var n;for(n=document.querySelectorAll("#pl-"+e+"-tabs .pl-js-tab-link"),i=0;i<n.length;++i)n[i].classList.remove("pl-is-active-tab");for(n=document.querySelectorAll("#pl-"+e+"-panels .pl-js-tab-panel"),i=0;i<n.length;++i)n[i].classList.remove("pl-is-active-tab");document.getElementById("pl-"+e+"-"+t+"-tab").classList.add("pl-is-active-tab"),document.getElementById("pl-"+e+"-"+t+"-panel").classList.add("pl-is-active-tab")}},PrismLanguages={languages:[],get:function(e){var t;for(i=0;i<this.languages.length;++i)if(void 0!==(t=this.languages[i])[e])return t[e];return"markup"},add:function(e){for(var t in e)if(e.hasOwnProperty(t))for(i=0;i<this.languages.length;++i)if(void 0!==this.languages[i][t])return void(this.languages[i][t]=e[t]);this.languages.push(e)}};PrismLanguages.add({twig:"markup"}),PrismLanguages.add({mustache:"markup"});var Panels={panels:[],count:function(){return this.panels.length},get:function(){return JSON.parse(JSON.stringify(this.panels))},add:function(e){for(var t=0;t<this.panels.length;++t)if(e.id===this.panels[t].id)return;this.panels.push(e)},remove:function(e){for(var t=this.panels,n=t.length-1;0<=n;n--)if(t[n].id===e){var i=t[n];return t.splice(n,1),void(i.default&&t.length&&(t[0].default=!0))}}},fileSuffixPattern=void 0!==config.outputFileSuffixes&&void 0!==config.outputFileSuffixes.rawTemplate?config.outputFileSuffixes.rawTemplate:"",fileSuffixMarkup=void 0!==config.outputFileSuffixes&&void 0!==config.outputFileSuffixes.markupOnly?config.outputFileSuffixes.markupOnly:".markup-only";Panels.add({id:"pl-panel-pattern",name:config.patternExtension.toUpperCase(),default:!0,templateID:"pl-panel-template-code",httpRequest:!0,httpRequestReplace:fileSuffixPattern,httpRequestCompleted:!1,prismHighlight:!0,language:PrismLanguages.get(config.patternExtension),keyCombo:"ctrl+shift+u"}),Panels.add({id:"pl-panel-html",name:"HTML",default:!1,templateID:"pl-panel-template-code",httpRequest:!0,httpRequestReplace:fileSuffixMarkup+".html",httpRequestCompleted:!1,prismHighlight:!0,language:"markup",keyCombo:"ctrl+shift+y"}),Dispatcher.trigger("setupPanels");var panelsViewer={targetOrigin:"file:"===window.location.protocol?"*":window.location.protocol+"//"+window.location.host,initCopy:!1,initMoveTo:0,checkPanels:function(e,t,n,i){for(var a=0,o=0;o<e.length;++o)void 0!==e[o].content&&a++;a===Panels.count()&&panelsViewer.renderPanels(e,t,n,i)},gatherPanels:function(e,a,o){var r,l,s,t;Dispatcher.addListener("checkPanels",panelsViewer.checkPanels);for(var n=Panels.get(),i=0;i<n.length;++i)if(void 0===(t=n[i]).name&&(t.name=e.patternEngineName||e.patternExtension,t.language=e.patternExtension),""===t.httpRequestReplace&&(t.httpRequestReplace=t.httpRequestReplace+"."+e.patternExtension),void 0!==t.templateID&&t.templateID)if(void 0!==t.httpRequest&&t.httpRequest){var c=urlHandler.getFileName(e.patternPartial,!1),p=new XMLHttpRequest;p.onload=function(e,t,n,i){return function(){prismedContent=Prism.highlight(this.responseText,Prism.languages.html),r=document.getElementById(t[e].templateID),l=Hogan.compile(r.innerHTML),s=l.render({language:"html",code:prismedContent}),t[e].content=s,Dispatcher.trigger("checkPanels",[t,n,a,o])}}(i,n,e),p.open("GET",c+t.httpRequestReplace+"?"+(new Date).getTime(),!0),p.send()}else r=document.getElementById(t.templateID),l=Hogan.compile(r.innerHTML),s=l.render(e),n[i].content=s,Dispatcher.trigger("checkPanels",[n,e,a,o])},renderPanels:function(e,t,n,i){var a,o,r,l,s,c,p,d,u=t.patternPartial;for(t.panels=e,n||0!==t.patternDesc.length||(t.patternDesc=""),t.patternNameCaps=t.patternName.toUpperCase(),(p=document.createElement("div")).innerHTML=t.patternMarkup,l=1,t.annotations=[],delete t.patternMarkup,d=0;d<comments.comments.length;++d)c=comments.comments[d],0<p.querySelectorAll(c.el).length&&(r={displayNumber:l,el:c.el,title:c.title,comment:c.comment},t.annotations.push(r),l++);if(0<t.annotations.length){var f=JSON.stringify({event:"patternLab.annotationsHighlightShow",annotations:t.annotations});document.querySelector(".pl-js-iframe").contentWindow.postMessage(f,panelsViewer.targetOrigin)}if(0<t.lineage.length)for(d=0;d<t.lineage.length;++d)d<t.lineage.length-1&&(t.lineage[d].hasComma=!0);if(0<t.lineageR.length)for(d=0;d<t.lineageR.length;++d)d<t.lineageR.length-1&&(t.lineageR[d].hasComma=!0);for(t.patternDescExists=0<t.patternDesc.length||void 0!==t.patternDescAdditions&&0<t.patternDescAdditions.length,t.lineageExists=0!==t.lineage.length,t.lineageRExists=0!==t.lineageR.length,t.patternStateExists=0<t.patternState.length,t.annotationExists=0<t.annotations.length,t.descBlockExists=t.patternDescExists||t.lineageExists||t.lineageRExists||t.patternStateExists||t.annotationExists,t.isPatternView=!1===n,a=document.querySelector(".pl-js-panel-template-base"),o=Hogan.compile(a.innerHTML).render(t),(s=document.createElement("div")).className="pl-c-pattern-info",s.innerHTML=o,o=s,o=panelsUtil.addClickEvents(o,u),d=0;d<e.length;++d)panel=e[d],panelTab="#pl-"+u+"-"+panel.id+"-tab",panelBlock="#pl-"+u+"-"+panel.id+"-panel",null!==o.querySelector(panelTab)&&panel.default&&(o.querySelector(panelTab).classList.add("pl-is-active-tab"),o.querySelector(panelBlock).classList.add("pl-is-active-tab"));$(".pl-js-lineage-link",o).on("click",function(e){e.preventDefault();var t=JSON.stringify({event:"patternLab.updatePath",path:urlHandler.getFileName($(this).attr("data-patternpartial"))});document.querySelector(".pl-js-iframe").contentWindow.postMessage(t,panelsViewer.targetOrigin)}),Dispatcher.trigger("insertPanels",[o,u,n,i])}};$(".pl-js-modal-resizer").mousedown(function(e){$(".pl-js-modal-cover").css("display","block"),$(".pl-js-modal-cover").mousemove(function(e){var t=window.innerHeight-e.clientY+32;$(".pl-js-modal").css("height",t+"px")})}),$("body").mouseup(function(){$(".pl-js-modal").unbind("mousemove"),$(".pl-js-modal-cover").css("display","none")});var clipboard=new Clipboard(".pl-js-code-copy-btn");clipboard.on("success",function(e){var t=document.querySelectorAll(".pl-js-code-copy-btn");for(i=0;i<t.length;i++)t[i].innerText="Copy";e.trigger.textContent="Copied"});var patternFinder={data:[],active:!1,init:function(){for(var e in patternPaths)if(patternPaths.hasOwnProperty(e))for(var t in patternPaths[e]){var n={};n.patternPartial=e+"-"+t,n.patternPath=patternPaths[e][t],this.data.push(n)}var i=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.nonword(e.patternPartial)},queryTokenizer:Bloodhound.tokenizers.nonword,limit:10,local:this.data});i.initialize(),$(".pl-js-typeahead").typeahead({highlight:!0},{displayKey:"patternPartial",source:i.ttAdapter()}).on("typeahead:selected",patternFinder.onSelected).on("typeahead:autocompleted",patternFinder.onAutocompleted)},passPath:function(e){patternFinder.closeFinder();var t=JSON.stringify({event:"patternLab.updatePath",path:urlHandler.getFileName(e.patternPartial)});document.querySelector(".pl-js-iframe").contentWindow.postMessage(t,urlHandler.targetOrigin)},onSelected:function(e,t){patternFinder.passPath(t)},onAutocompleted:function(e,t){patternFinder.passPath(t)},toggleFinder:function(){patternFinder.active?patternFinder.closeFinder():patternFinder.openFinder()},openFinder:function(){patternFinder.active=!0,$(".pl-js-typeahead").val("")},closeFinder:function(){patternFinder.active=!1,document.activeElement.blur(),$(".pl-js-typeahead").val("")},receiveIframeMessage:function(e){if("file:"===window.location.protocol||e.origin===window.location.protocol+"//"+window.location.host){var t={};try{t="string"!=typeof e.data?e.data:JSON.parse(e.data)}catch(e){}return void 0!==t.event&&"patternLab.keyPress"==t.event&&"ctrl+shift+f"==t.keyPress?(patternFinder.toggleFinder(),!1):void 0}}};if(patternFinder.init(),window.addEventListener("message",patternFinder.receiveIframeMessage,!1),$(".pl-js-typeahead").focus(function(){patternFinder.active||patternFinder.openFinder()}),$(".pl-js-typeahead").blur(function(){patternFinder.closeFinder()}),self!=top){var path=window.location.toString(),parts=path.split("?"),options={event:"patternLab.pageLoad",path:parts[0]};patternData=document.getElementById("pl-pattern-data-footer").innerHTML,patternData=JSON.parse(patternData),options.patternpartial=void 0!==patternData.patternPartial?patternData.patternPartial:"all",""!==patternData.lineage&&(options.lineage=patternData.lineage);var targetOrigin="file:"==window.location.protocol?"*":window.location.protocol+"//"+window.location.host;parent.postMessage(options,targetOrigin);for(var aTags=document.getElementsByTagName("a"),i=0;i<aTags.length;i++)aTags[i].onclick=function(e){var t=this.getAttribute("href"),n=this.getAttribute("target");if(void 0===n||"_parent"!=n&&"_blank"!=n){if(!t||"#"===t)return e.preventDefault(),!1;e.preventDefault(),window.location.replace(t)}else;}}function receiveIframeMessage(e){if("file:"==window.location.protocol||e.origin===window.location.protocol+"//"+window.location.host){var t,n={};try{n="string"!=typeof e.data?e.data:JSON.parse(e.data)}catch(e){}if(void 0!==n.event&&"patternLab.updatePath"==n.event)if(void 0!==patternData.patternPartial){t=window.location.protocol+"//"+window.location.host+window.location.pathname.replace(/(patterns|snapshots)\/(.*)$/,"")+n.path+"?"+Date.now(),window.location.replace(t)}else t=window.location.protocol+"//"+window.location.host+window.location.pathname.replace("styleguide/html/styleguide.html","")+n.path+"?"+Date.now(),window.location.replace(t);else void 0!==n.event&&"patternLab.reload"==n.event&&window.location.reload()}}window.addEventListener("message",receiveIframeMessage,!1),function(e){var t=document.body.clientWidth,r=($(document).height(),240),l=2600;if(void 0!==config.ishMinimum&&(r=parseInt(config.ishMinimum)),void 0!==config.ishMaximum&&(l=parseInt(config.ishMaximum)),void 0!==config.ishViewportRange&&(r=config.ishViewportRange.s[0],l=config.ishViewportRange.l[1]),config.ishViewportRange&&config.ishMaximum){var n=parseInt(config.ishViewportRange.l[1]),i=parseInt(config.ishMaximum);l=i<n?n:i}var s=14,c=$(".pl-js-iframe"),o=$("#pl-size-px"),p=$("#pl-size-em"),d=void 0!==config.ishFontSize?parseInt(config.ishFontSize):parseInt($("body").css("font-size")),a=!1,u=!1,f=!0,h=!1;function m(){y(),b(),f=!1,j(P(r,500))}function g(){y(),b(),f=!1,j(P(r,void 0!==config.ishViewportRange?parseInt(config.ishViewportRange.s[1]):500))}function v(){y(),b(),f=!1,j(P(void 0!==config.ishViewportRange?parseInt(config.ishViewportRange.l[0]):800,void 0!==config.ishViewportRange?parseInt(config.ishViewportRange.l[1]):1200))}function w(){j(P(r,t))}function y(){u=!1,clearInterval(a),a=!1}function k(){u=!0,a=setInterval(w,800)}function b(){var e=c.width();h=!1,c.removeClass("hay-mode"),$(".pl-js-vp-iframe-container").removeClass("hay-mode"),j(Math.floor(e))}function S(){h=!0,$(".pl-js-vp-iframe-container").removeClass("vp-animate").width(r+s),c.removeClass("vp-animate").width(r);window.setTimeout(function(){$(".pl-js-vp-iframe-container").addClass("hay-mode").width(l+s),c.addClass("hay-mode").width(l),setInterval(function(){x(c.width())},100)},200)}function j(e,t){var n;n=l<e?l:e<r?r:e,!1===t?$(".pl-js-vp-iframe-container, .pl-js-iframe").removeClass("vp-animate"):$(".pl-js-vp-iframe-container, .pl-js-iframe").addClass("vp-animate"),$(".pl-js-vp-iframe-container").width(n+s),c.width(n);var i,a="file:"===window.location.protocol?"*":window.location.protocol+"//"+window.location.host,o=JSON.stringify({event:"patternLab.resize",resize:"true"});document.querySelector(".pl-js-iframe").contentWindow.postMessage(o,a),x(n),i=n,DataSaver.findValue("vpWidth")?DataSaver.updateValue("vpWidth",i):DataSaver.addValue("vpWidth",i)}function x(e,t,n){var i,a;"em"===t?(i=e,a=Math.floor(e*d)):i=(a=e)/d,"updatePxInput"===n?o.val(a):"updateEmInput"===n?p.val(i.toFixed(2)):(p.val(i.toFixed(2)),o.val(a))}function P(e,t){return Math.floor(Math.random()*(t-e)+e)}function E(e){$(".pl-js-iframe").width(e),$(".pl-js-vp-iframe-container").width(1*e+14),x(e)}$(e).resize(function(){t=document.body.clientWidth,$(document).height(),!0===f&&j(t,!1)}),$(".pl-js-nav-trigger").on("click",function(e){e.preventDefault(),$(".pl-js-nav-target").toggleClass("pl-is-active")}),$(".pl-js-acc-handle").on("click",function(e){e.preventDefault();var t=$(this),n=t.next(".pl-js-acc-panel");t.parent().parent().hasClass("pl-js-acc-panel")||($(".pl-js-acc-handle").not(t).removeClass("pl-is-active"),$(".pl-js-acc-panel").not(n).removeClass("pl-is-active")),t.toggleClass("pl-is-active"),n.toggleClass("pl-is-active")}),$("#pl-size-s").on("click",function(e){e.preventDefault(),m()}),jwerty.key("ctrl+shift+s",function(e){return m(),!1}),$("#pl-size-m").on("click",function(e){e.preventDefault(),g()}),jwerty.key("ctrl+shift+m",function(e){return v(),!1}),$("#pl-size-l").on("click",function(e){e.preventDefault(),v()}),jwerty.key("ctrl+shift+l",function(e){return v(),!1}),$("#pl-size-full").on("click",function(e){e.preventDefault(),y(),b(),f=!0,j(t)}),$("#pl-size-random").on("click",function(e){e.preventDefault(),y(),b(),f=!1,j(P(r,t))}),$("#pl-size-disco").on("click",function(e){e.preventDefault(),b(),f=!1,u?y():k()}),jwerty.key("ctrl+shift+d",function(e){return u?y():k(),!1}),$("#pl-size-hay").on("click",function(e){e.preventDefault(),y(),h?b():S()}),jwerty.key("ctrl+shift+h",function(e){h?b():S()}),o.on("keydown",function(e){var t=Math.floor($(this).val());38===e.keyCode?j(++t,!1):40===e.keyCode?j(--t,!1):13===e.keyCode&&(e.preventDefault(),j(t),$(this).blur())}),o.on("keyup",function(){x(Math.floor($(this).val()),"px","updateEmInput")}),p.on("keydown",function(e){var t=parseFloat($(this).val());38===e.keyCode?(t++,j(Math.floor(t*d),!1)):40===e.keyCode?(t--,j(Math.floor(t*d),!1)):13===e.keyCode&&(e.preventDefault(),j(Math.floor(t*d)))}),p.on("keyup",function(){x(parseFloat($(this).val()),"em","updatePxInput")}),jwerty.key("ctrl+shift+0",function(e){return e.preventDefault(),j(320,!0),!1}),$(".pl-js-vp-iframe-container").on("transitionend webkitTransitionEnd",function(e){var t="file:"===window.location.protocol?"*":window.location.protocol+"//"+window.location.host,n=JSON.stringify({event:"patternLab.resize",resize:"true"});document.querySelector(".pl-js-iframe").contentWindow.postMessage(n,t)}),$(".pl-js-vp-iframe-container").on("touchstart",function(e){}),$(".pl-js-resize-handle").mousedown(function(e){var n=e.clientX,i=c.width();return f=!1,$(".pl-js-viewport-cover").css("display","block"),$(".pl-js-viewport-cover").mousemove(function(e){var t;t=i+2*(e.clientX-n),r<t&&(DataSaver.findValue("vpWidth")?DataSaver.updateValue("vpWidth",t):DataSaver.addValue("vpWidth",t),j(t,!1))}),!1}),$("body").mouseup(function(){$(".pl-js-viewport-cover").unbind("mousemove"),$(".pl-js-viewport-cover").css("display","none")});var L=$(".pl-js-iframe").width();$(".pl-js-vp-iframe-container").width(L);var T=screen.width;void 0!==window.orientation&&(T=0===window.orientation?screen.width:screen.height),$(window).width()==T&&"ontouchstart"in document.documentElement&&$(window).width()<=1024?$(".pl-js-resize-container").width(0):$(".pl-js-iframe").width(L-14),x($(".pl-js-iframe").width());var C=urlHandler.getRequestVars(),M=0;void 0!==C.h||void 0!==C.hay?S():void 0!==C.d||void 0!==C.disco?k():void 0!==C.w||void 0!==C.width?(M=-1!==(M=void 0!==C.w?C.w:C.width).indexOf("em")?Math.floor(Math.floor(M.replace("em",""))*d):Math.floor(M.replace("px","")),DataSaver.updateValue("vpWidth",M),E(M)):(M=DataSaver.findValue("vpWidth"))&&E(M);var V=window.location.protocol+"//"+window.location.host+window.location.pathname.replace("index.html",""),D=void 0!==config.defaultPattern&&"string"==typeof config.defaultPattern&&0<config.defaultPattern.trim().length?config.defaultPattern:"all",O=V+"styleguide/html/styleguide.html?"+Date.now();function q(){$(".pl-js-nav-container, .pl-js-acc-handle, .pl-js-acc-panel").removeClass("pl-is-active"),patternFinder.closeFinder()}if(void 0===C.p&&void 0===C.pattern||(D=void 0!==C.p?C.p:C.pattern),"all"!==D&&(patternPath=urlHandler.getFileName(D),O=""!==patternPath?V+patternPath+"?"+Date.now():O,document.getElementById("title").innerHTML="Pattern Lab - "+D,history.replaceState({pattern:D},null,null)),void 0!==document.querySelector(".pl-js-open-new-window")&&document.querySelector(".pl-js-open-new-window").setAttribute("href",urlHandler.getFileName(D)),urlHandler.skipBack=!0,document.querySelector(".pl-js-iframe").contentWindow.location.replace(O),$("a[data-patternpartial]").on("click",function(e){e.preventDefault();var t=JSON.stringify({event:"patternLab.updatePath",path:urlHandler.getFileName($(this).attr("data-patternpartial"))});document.querySelector(".pl-js-iframe").contentWindow.postMessage(t,urlHandler.targetOrigin),q()}),$(".pl-js-viewport").click(function(){q()}),void 0!==window.orientation){var H=window.orientation;window.addEventListener("orientationchange",function(){window.orientation!=H&&($(".pl-js-vp-iframe-container").width($(window).width()),$(".pl-js-iframe").width($(window).width()),x($(window).width()),H=window.orientation)},!1)}window.addEventListener("message",function(e){if("file:"===window.location.protocol||e.origin===window.location.protocol+"//"+window.location.host){var t={};try{t="string"!=typeof e.data?e.data:JSON.parse(e.data)}catch(e){}if(void 0!==t.event)if("patternLab.pageLoad"==t.event)urlHandler.skipBack||void 0!==history.state&&null!==history.state&&history.state.pattern===t.patternpartial||urlHandler.pushPattern(t.patternpartial,t.path),urlHandler.skipBack=!1;else if("patternLab.keyPress"==t.event){if("ctrl+shift+s"==t.keyPress)m();else if("ctrl+shift+m"==t.keyPress)g();else if("ctrl+shift+l"==t.keyPress)v();else if("ctrl+shift+d"==t.keyPress)u?y():k();else if("ctrl+shift+h"==t.keyPress)h?b():S();else if("ctrl+shift+0"==t.keyPress)j(320,!0);else if(found==t.keyPress.match(/ctrl\+shift\+([1-9])/)){var n=mqs[found[1]-1],i=-1!==n.indexOf("px")?"px":"em";n=n.replace(i,""),j("px"===i?1*n:n*d,!0)}return!1}}},!1)}(this);var pluginLoader={init:function(){for(var s,t,l,c,n,i=0;i<plugins.length;++i){var plugin=plugins[i];for(var key in plugin.templates)plugin.templates.hasOwnProperty(key)&&(t=document.getElementsByTagName("script"),l=t.length-1,s=t[l],n=document.createElement("script"),n.type="text/mustache",n.id=plugin.name.replace("/","-")+"-"+key+"-template",n.innerHTML=plugin.templates[key],s.parentNode.insertBefore(n,s.nextSibling));for(var k=0;k<plugin.stylesheets.length;++k)s=plugin.stylesheets[k],t=document.getElementsByTagName("link"),l=t.length-1,c=t[l],n=document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href="patternlab-components/"+plugin.name+"/"+s,n.media="screen",c.parentNode.insertBefore(n,c.nextSibling);$script(plugin.javascripts,plugin.name,eval("(function() { "+plugin.callback+" })")),$script.ready([plugin.name],eval("(function() { "+plugin.onready+" })"))}}};pluginLoader.init();